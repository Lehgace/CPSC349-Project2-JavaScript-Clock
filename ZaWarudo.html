<!-- Joshua Erickson CPSC 392 Project 2 -->
<!-- Prompt: Create a Digital seconds clock using Set Interval and Date Object in javasript. 
     The Date object can be used to get the date, time, hours, and seconds which can be update using set Interval. 
     Try to keep the UI Good looking.
    
     Goal of design is to show a panel from Jojo's Bizarre Adventure where Dio tells the user the time (in seconds, then as normal 12-hour format time) through the two speech bubbles.
     Everything is a JoJo reference. -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />

    <!-- Set website title and icon-->
    <title>Dio's World</title> 
    <link rel="icon" type="image/x-icon" href="dioAndTheWorld.png">
    
    <!-- Javascript Initialization for Clock-->
    <script>
      let date;
      let time;
      const options = {
        weekday: "long",
        year: "numeric",
        month: "long",
        day: "numeric",
      };
      // function to retrieve and set format for displaying time every second
      setInterval(() => {
        const now = new Date();
        let hours = now.getHours();
        const minutes = now.getMinutes();
        const seconds = now.getSeconds();
        const amPm = hours >= 12 ? 'PM' : 'AM'; // determine AM or PM
        let zaWarudo = (now.getHours() * 3600) + (now.getMinutes() * 60) + (now.getSeconds()) // total amount of seconds

        // convert to 12-hour format
        hours = hours % 12 || 12;

        const timeString = `${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')} ${amPm}<br>`; // format: HH:MM:SS Xm with front-zero padding
        const dateString = now.toLocaleDateString(undefined, options); // format: dayofweek, month DD, YYYY
        const diosWorld = `${zaWarudo}`; // format: SSSSSSS 
        
        document.getElementById('time').innerHTML = `Otherwise known as <b>${timeString}</b><b>${dateString}</b> in mortal time.`; // reference tag for time/date format
        document.getElementById('seconds').innerHTML = `<b>${diosWorld}</b> seconds have passed.`; // reference tag for seconds format
      }, 1000);
    </script>

    <!-- Custom alignment to fit speech bubbles of background image. 
         Currently uses mix of percentages/pixels. Formatting may be off depending on client window resolution-->
    <style>
      .bubble_time {
        position: absolute;
        right: 6%;
        top: 12%;
        width: 350px;
        padding: 5px;
      }
      .bubble_seconds {
        position: absolute;
        right: 33%;
        top: 24%;
        width: 200px;
        padding: 10px;
      }
    </style>
  </head>

  <!-- Load background image-->
  <body style="background-image: url('dioPanelUpscale.jpg'); background-repeat: no-repeat; background-size: cover;">
    <div>
      <div class="bubble_time">
        <h1 style="color: black;"><span id="time"></span></h1>
      </div>
      <div class="bubble_seconds">
        <h1 style="color: black;"><span id="seconds"></span></h1>
      </div>
    </div>

    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
